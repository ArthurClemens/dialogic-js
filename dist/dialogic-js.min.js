"use strict";(()=>{var d=e=>new Promise(t=>setTimeout(t,e)),b=(e,t)=>t.reduce((n,o)=>n!=="0s"?n:e.getPropertyValue(o),"0s"),E=({domElement:e,props:t})=>{let n=document.defaultView;if(n){let o=n.getComputedStyle(e);if(o)return b(o,t)}},f=e=>{let t=parseFloat(e)*(e.indexOf("ms")===-1?1e3:1);return Number.isNaN(t)?0:t},l=e=>{let t=E({domElement:e,props:["animation-duration","transition-duration"]}),n=t!==void 0?f(t):0,o=E({domElement:e,props:["animation-delay","transition-delay"]}),a=o!==void 0?f(o):0;return n+a},y=e=>e.scrollTop,g=e=>{let t=window.getComputedStyle(e);return t.opacity==="0"||t.display==="none"?!1:!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)};var D="[data-prompt]",O="[data-pane]",h="[data-touch]",C="[data-toggle]",v="ismodal",A="isescapable",L="isopen",w="isshowing",T="ishiding";var c=async({pane:e,root:t,isDetails:n,isEscapable:o,escapeListener:a})=>{o&&window.addEventListener("keydown",a,{once:!0}),delete t.dataset[w],t.dataset[T]="";let i=l(e);await d(i),n&&t.removeAttribute("open"),delete t.dataset[T],delete t.dataset[L]},u=async({pane:e,root:t,isDetails:n,isEscapable:o,escapeListener:a})=>{o&&window.addEventListener("keydown",a,{once:!0}),n&&t.setAttribute("open",""),t.dataset[L]="",y(t),t.dataset[w]="";let i=l(e);await d(i)},m=async(e,t=2)=>{switch(t){case 0:return await u(e);case 1:return await c(e);default:return g(e.pane)?await c(e):await u(e)}};function V(e,t){let n=null;if(!t&&e.el?n=e.el:typeof t=="string"?n=document.querySelector(t):t&&!!t.tagName&&(n=t.closest(D)),!n)return;let o=n.querySelector(C)||n.querySelector("summary"),a=n.querySelector(O),i=n.querySelector(h),p=n.tagName==="DETAILS",M=n.dataset[v]!==void 0,H=n.dataset[A]!==void 0;if(n&&a){let r={root:n,isDetails:p,isModal:M,isEscapable:H,toggle:o,pane:a,touchLayer:i,prompt:e,escapeListener:()=>{}},S=function(P){P.key==="Escape"&&c(r)};return r.escapeListener=S,r}}var _=e=>{let{toggle:t}=e;t&&t.dataset.registered===void 0&&(t.addEventListener("click",async n=>{n.preventDefault(),n.stopPropagation(),m(e)}),t.dataset.registered="")},I=e=>{let{touchLayer:t,isModal:n}=e;t&&t.dataset.registered===void 0&&(t.addEventListener("click",async o=>{o.preventDefault(),o.stopPropagation(),n||m(e,1)}),t.dataset.registered="")};async function s(e,t,n){let o=V(e,t);if(o===void 0){console.error("Prompt elements not found");return}_(o),I(o);let{root:a,isDetails:i}=o;i&&a.getAttribute("open")!==null&&u(o),n!==void 0&&await m(o,n)}var G={mounted(){s(this)},async init(e){await s(this,e)},async toggle(e){await s(this,e,2)},async show(e){await s(this,e,0)},async hide(e){await s(this,e,1)}};window.Prompt=G;})();
